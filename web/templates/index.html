<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>ASCII art web</title>
    <link rel="icon" type="image/x-icon" href="/static/favicon.ico" />
    <link rel="stylesheet" href="/static/css/styles.css" />
  </head>
  <body>
    <div class="container">
      <h1>ASCII art web</h1>
      <button id="theme-toggle" class="theme-button">ðŸŒ™ Toggle Theme</button>

      <form method="POST" action="/ascii-art">
        <label for="text">Enter your text</label>
        <textarea
          name="text"
          id="text"
          placeholder="Type something..."
          rows="6"
          required
        >
{{if .OldInput}}{{.OldInput}}{{end}}</textarea
        >

        <div class="tab-selector">
          <input type="radio" name="banner" id="tab1" value="standard" {{if eq
          .SelectedBanner "standard"}}checked{{end}} />
          <label for="tab1">Standard</label>

          <input type="radio" name="banner" id="tab2" value="shadow" {{if eq
          .SelectedBanner "shadow"}}checked{{end}} />
          <label for="tab2">Shadow</label>

          <input type="radio" name="banner" id="tab3" value="thinkertoy" {{if eq
          .SelectedBanner "thinkertoy"}}checked{{end}} />
          <label for="tab3">Thinkertoy</label>

          <div class="tab-highlight"></div>
        </div>

        <button type="submit">Generate</button>
      </form>

      {{if .Result}}
      <div id="ascii-output">{{.Result}}</div>
      {{end}}
    </div>

    <script>
      const toggle = document.getElementById("theme-toggle");
      const body = document.body;

      if (localStorage.getItem("theme") === "light") {
        body.classList.add("light-theme");
        toggle.textContent = "ðŸŒ‘ Dark Mode";
      }

      toggle.addEventListener("click", () => {
        body.classList.toggle("light-theme");

        if (body.classList.contains("light-theme")) {
          localStorage.setItem("theme", "light");
          toggle.textContent = "ðŸŒ‘ Dark Mode";
        } else {
          localStorage.setItem("theme", "dark");
          toggle.textContent = "ðŸ”† Light Mode";
        }
      });
    </script>
  </body>
</html>
